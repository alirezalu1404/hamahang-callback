<!doctype html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ø¨Ø§Ø²Ú¯Ø´Øª OAuth | Ù‡Ù…Ø§Ù‡Ù†Ú¯</title>
  <style>
    body{font-family:Tahoma,Arial,sans-serif;max-width:720px;margin:32px auto;padding:0 16px;line-height:1.8}
    code,pre{background:#f6f8fa;padding:2px 6px;border-radius:6px;direction:ltr}
    .ok{color:#0a7}
    .err{color:#c00}
    .box{border:1px solid #e5e7eb;border-radius:12px;padding:16px;margin:16px 0}
    button{padding:8px 12px;border:1px solid #ddd;border-radius:8px;background:#fff;cursor:pointer}
    a.btn{display:inline-block;padding:10px 16px;margin-top:10px;border:1px solid #0a7;background:#0a7;color:#fff;text-decoration:none;border-radius:8px}
  </style>
</head>
<body>
  <h1>ğŸ“ Ù†ØªÛŒØ¬Ù‡ Ø¨Ø§Ø²Ú¯Ø´Øª OAuth (Ø¯ÛŒÙˆØ§Ø±)</h1>

  <!-- ğŸ”¹ Ø¯Ú©Ù…Ù‡ ÙˆØ±ÙˆØ¯ -->
  <div class="box">
    <p>Ø¨Ø±Ø§ÛŒ ÙˆØ±ÙˆØ¯ Ø¨Ø§ Ø¯ÛŒÙˆØ§Ø±ØŒ Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡ Ø²ÛŒØ± Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯:</p>
    <a class="btn" href="https://oauth.divar.ir/oauth2/auth?response_type=code
&client_id=bloom-pine-jester
&redirect_uri=https://alirezalu1404.github.io/hamahang-callback/index.html
&state=mysecurestate12345">
      ÙˆØ±ÙˆØ¯ Ø¨Ø§ Ø¯ÛŒÙˆØ§Ø±
    </a>
  </div>

  <!-- ğŸ”¹ Ù†ØªÛŒØ¬Ù‡ Ø¨Ø§Ø²Ú¯Ø´Øª -->
  <div class="box">
    <p>Ø§Ú¯Ø± Ø§Ø¬Ø§Ø²Ù‡ ØµØ§Ø¯Ø± Ø´Ø¯Ù‡ Ø¨Ø§Ø´Ø¯ØŒ Ø¨Ø§ÛŒØ¯ Ù¾Ø§Ø±Ø§Ù…ØªØ± <code>code</code> Ø§ÛŒÙ†Ø¬Ù€Ø§ Ø¨ÛŒØ§Ø¯.</p>
    <p><strong>state:</strong> <span id="state">â€”</span></p>
    <p><strong>code:</strong> <span id="code">â€”</span></p>
    <p class="err"><strong>error:</strong> <span id="error">â€”</span></p>
    <p class="err"><strong>error_description:</strong> <span id="error_description">â€”</span></p>
    <p><button id="copyBtn">Ú©Ù¾ÛŒ code</button></p>
  </div>

  <div class="box">
    <h3>Ø±Ø§Ù‡Ù†Ù…Ø§</h3>
    <ul>
      <li>Ø§Ú¯Ø± <code>code</code> Ø¯ÛŒØ¯ÛŒØŒ ÛŒØ¹Ù†ÛŒ Ø§Ø¬Ø§Ø²Ù‡ ØµØ§Ø¯Ø± Ø´Ø¯Ù‡Ø› Ù‡Ù…ÙˆÙ†Ùˆ Ø¨Ø±Ø§ÛŒ ØªØ¨Ø§Ø¯Ù„ ØªÙˆÚ©Ù† Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ….</li>
      <li>Ø§Ú¯Ø± Ø®Ø·Ø§ÛŒ <code>invalid_scope</code> Ø¯ÛŒØ¯ÛŒØŒ ÙØ¹Ù„Ø§Ù‹ Ù…Ù‚Ø¯Ø§Ø± <code>scope</code> Ø±Ùˆ Ø§Ø² Ù„ÛŒÙ†Ú© Ø§Ø­Ø±Ø§Ø² Ø­Ø°Ù Ú©Ù† ÛŒØ§ ÛŒÚ© Ø§Ø³Ú©ÙˆÙ¾ Ø­Ø¯Ø§Ù‚Ù„ÛŒ Ø¨Ø°Ø§Ø±.</li>
      <li>Ø§ÛŒÙ† ØµÙØ­Ù‡ ÙÙ‚Ø· Ù†Ù…Ø§ÛŒØ´ Ùˆ Ø¯ÛŒØ¨Ø§Ú¯ Ù‡Ø³ØªØ› Ù‡ÛŒÚ† Ú©Ù„ÛŒØ¯ Ù…Ø­Ø±Ù…Ø§Ù†Ù‡â€ŒØ§ÛŒ Ø§ÛŒÙ†Ø¬Ø§ Ù†Ø°Ø§Ø±.</li>
    </ul>
  </div>

  <script>
    (function () {
      const params = new URLSearchParams(location.search);
      const set = (id, val) => document.getElementById(id).textContent = val || 'â€”';

      const state = params.get('state');
      const code = params.get('code');
      const error = params.get('error');
      const error_description = params.get('error_description');

      set('state', state);
      set('code', code);
      set('error', error);
      set('error_description', error_description);

      document.getElementById('copyBtn').addEventListener('click', () => {
        if (!code) return alert('Ú©Ø¯ÛŒ Ø¨Ø±Ø§ÛŒ Ú©Ù¾ÛŒ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯.');
        navigator.clipboard.writeText(code).then(() => alert('Ú©Ù¾ÛŒ Ø´Ø¯!'));
      });
    })();
  </script>
</body>
</html>
