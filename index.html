<!doctype html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ุจุงุฒฺฏุดุช OAuth | ููุงููฺฏ</title>
  <style>
    body{font-family:Tahoma,Arial,sans-serif;max-width:720px;margin:32px auto;padding:0 16px;line-height:1.8}
    code,pre{background:#f6f8fa;padding:2px 6px;border-radius:6px;direction:ltr}
    .ok{color:#0a7}
    .err{color:#c00}
    .box{border:1px solid #e5e7eb;border-radius:12px;padding:16px;margin:16px 0}
    button{padding:8px 12px;border:1px solid #ddd;border-radius:8px;background:#fff;cursor:pointer}
  </style>
</head>
<body>
  <h1>๐ ูุชุฌู ุจุงุฒฺฏุดุช OAuth (ุฏูุงุฑ)</h1>
  <div class="box">
    <p>ุงฺฏุฑ ุงุฌุงุฒู ุตุงุฏุฑ ุดุฏู ุจุงุดุฏุ ุจุงุฏ ูพุงุฑุงูุชุฑ <code>code</code> ุงูุฌูุง ุจุงุฏ.</p>
    <p><strong>state:</strong> <span id="state">โ</span></p>
    <p><strong>code:</strong> <span id="code">โ</span></p>
    <p class="err"><strong>error:</strong> <span id="error">โ</span></p>
    <p class="err"><strong>error_description:</strong> <span id="error_description">โ</span></p>
    <p><button id="copyBtn">ฺฉูพ code</button></p>
  </div>

  <div class="box">
    <h3>ุฑุงูููุง</h3>
    <ul>
      <li>ุงฺฏุฑ <code>code</code> ุฏุฏุ ุนู ุงุฌุงุฒู ุตุงุฏุฑ ุดุฏูุ ููููู ุจุฑุง ุชุจุงุฏู ุชูฺฉู ุงุณุชูุงุฏู ูโฺฉูู.</li>
      <li>ุงฺฏุฑ ุฎุทุง <code>invalid_scope</code> ุฏุฏุ ูุนูุงู ููุฏุงุฑ <code>scope</code> ุฑู ุงุฒ ููฺฉ ุงุญุฑุงุฒ ุญุฐู ฺฉู ุง ฺฉ ุงุณฺฉููพ ุญุฏุงูู ูุซู <code>USER_RETRIEVE</code> ุจุฐุงุฑ.</li>
      <li>ุงู ุตูุญู ููุท ููุงุด ู ุฏุจุงฺฏ ูุณุชุ ูฺ ฺฉูุฏ ูุญุฑูุงููโุง ุงูุฌุง ูุฐุงุฑ.</li>
    </ul>
  </div>

  <script>
    (function () {
      const params = new URLSearchParams(location.search);
      const set = (id, val) => document.getElementById(id).textContent = val || 'โ';

      const state = params.get('state');
      const code = params.get('code');
      const error = params.get('error');
      const error_description = params.get('error_description');

      set('state', state);
      set('code', code);
      set('error', error);
      set('error_description', error_description);

      document.getElementById('copyBtn').addEventListener('click', () => {
        if (!code) return alert('ฺฉุฏ ุจุฑุง ฺฉูพ ูุฌูุฏ ูุฏุงุฑุฏ.');
        navigator.clipboard.writeText(code).then(() => alert('ฺฉูพ ุดุฏ!'));
      });
    })();
  </script>
</body>
</html>
